# üëçüëé ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡πá‡∏ö Feedback (Like/Dislike System)

‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏â‡∏ö‡∏±‡∏ö‡∏ô‡∏µ‡πâ‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î Like/Dislike ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏• AI ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï (Reinforcement Learning from Human Feedback - RLHF)

---

## 1. ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå (Objective)
1.  **‡∏ß‡∏±‡∏î‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö:** ‡∏ó‡∏£‡∏≤‡∏ö‡∏ß‡πà‡∏≤‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÑ‡∏´‡∏ô‡∏î‡∏µ ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏î‡∏µ
2.  **‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Training:** ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Dislike ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡πÑ‡∏õ‡∏ó‡∏≥ Self-Correcting RAG
3.  **‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°:** ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô Dashboard ‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£

---

## 2. ‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (UI Design)

### 2.1 ‡∏´‡∏ô‡πâ‡∏≤ Chat Interface (‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó)
*   **‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:** ‡πÉ‡∏ï‡πâ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á AI (AI Bubble Footer)
*   **‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö:** ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô üëç (Like) ‡πÅ‡∏•‡∏∞ üëé (Dislike) ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å ‡∏™‡∏µ‡∏à‡∏≤‡∏á (Fade)
*   **Interaction:**
    *   ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πÄ‡∏Ç‡πâ‡∏° (Active)
    *   (Optional) ‡∏ñ‡πâ‡∏≤‡∏Å‡∏î Dislike ‡∏°‡∏µ Popup ‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡∏ñ‡∏≤‡∏°‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• (‡πÄ‡∏ä‡πà‡∏ô "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏¥‡∏î", "‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°", "‡∏¢‡∏≤‡∏ß‡πÑ‡∏õ")

### 2.2 ‡∏´‡∏ô‡πâ‡∏≤ Avatar Interface (‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡πâ‡∏≠‡∏á‡∏ô‡πà‡∏≤‡∏ô)
*   **‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:** ‡∏°‡∏∏‡∏°‡∏•‡πà‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏•‡∏≠‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏´‡∏•‡∏±‡∏á AI ‡∏û‡∏π‡∏î‡∏à‡∏ö (Auto-fade in)
*   **‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö:** ‡∏õ‡∏∏‡πà‡∏°‡∏ß‡∏á‡∏Å‡∏•‡∏°‡πÉ‡∏™ (Glassmorphism) ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏• ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏£‡∏Å‡∏´‡∏ô‡πâ‡∏≤ Avatar

---

## 3. ‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô (Backend & Database)

### 3.1 Database Schema (MongoDB)
‡∏™‡∏£‡πâ‡∏≤‡∏á Collection ‡πÉ‡∏´‡∏°‡πà‡∏ä‡∏∑‡πà‡∏≠ `feedback_logs`

```json
{
  "_id": "ObjectId(...)",
  "session_id": "uuid-string-...",
  "timestamp": "2023-10-25T14:30:00Z",
  "interaction_turn": 5,           // ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÇ‡∏ï‡πâ‡∏ï‡∏≠‡∏ö‡πÉ‡∏ô Session
  "user_query": "‡∏ß‡∏±‡∏î‡∏†‡∏π‡∏°‡∏¥‡∏ô‡∏ó‡∏£‡πå‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏µ‡πà‡πÇ‡∏°‡∏á",
  "ai_response": "‡∏ß‡∏±‡∏î‡∏†‡∏π‡∏°‡∏¥‡∏ô‡∏ó‡∏£‡πå‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡∏•‡∏≤ 06:00 - 18:00 ‡∏ô. ‡∏Ñ‡πà‡∏∞...",
  "feedback_type": "like",         // "like" ‡∏´‡∏£‡∏∑‡∏≠ "dislike"
  "reason": "incorrect_info",      // (Optional) ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏´‡∏≤‡∏Å‡∏°‡∏µ
  "metadata": {
      "ai_mode": "detailed",
      "platform": "web_chat"       // "web_chat" ‡∏´‡∏£‡∏∑‡∏≠ "avatar_kiosk"
  }
}
```

### 3.2 API Endpoint
‡πÄ‡∏û‡∏¥‡πà‡∏° Endpoint ‡πÉ‡∏ô `api/routers/analytics_api.py` (‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á `feedback_api.py`)

*   **POST** `/api/feedback/submit`
    *   **Body:**
        ```json
        {
          "session_id": "...",
          "query": "...",
          "response": "...",
          "feedback": "like", // or "dislike"
          "reason": "..."     // optional
        }
        ```

---

## 4. ‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡πÉ‡∏ä‡πâ (Utilization)

1.  **Analytics Dashboard:** ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏£‡∏≤‡∏ü‡∏ß‡∏á‡∏Å‡∏•‡∏°‡πÅ‡∏™‡∏î‡∏á % Like vs Dislike ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏±‡∏ô
2.  **Self-Correction Trigger:**
    *   ‡∏´‡∏≤‡∏Å Feedback = **Dislike** -> ‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£ "Self-Correcting RAG" (Phase 2) ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÉ‡∏´‡πâ AI ‡πÑ‡∏õ‡∏´‡∏≤‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏°‡∏≤‡πÅ‡∏ó‡∏ô‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡πÇ‡∏î‡∏ô Dislike

---

## 5. ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤ (Implementation Task)

1.  **Backend:** ‡∏™‡∏£‡πâ‡∏≤‡∏á Schema ‡πÅ‡∏•‡∏∞ API Endpoint (15 ‡∏ô‡∏≤‡∏ó‡∏µ)
2.  **Frontend (Chat):** ‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå `chat.js` ‡πÉ‡∏´‡πâ Render ‡∏õ‡∏∏‡πà‡∏°‡∏ó‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (30 ‡∏ô‡∏≤‡∏ó‡∏µ)
3.  **Frontend (Avatar):** ‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå `avatar_logic.js` ‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏° Feedback (30 ‡∏ô‡∏≤‡∏ó‡∏µ)

‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏™‡πÄ‡∏õ‡∏Ñ‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏∞‡∏ä‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ Implement ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ!
